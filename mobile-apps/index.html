<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile App Services</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter+Tight:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../mobile-apps.css">
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <header>
        <div class="logo">
            <img src="../images/logo_light.png" alt="Desoto Bits and Bytes">
        </div>
        <nav>
            <a href="../index.html">Home</a>
            <a href="#services">Services</a>
            <a href="#contact">Contact</a>
        </nav>
        <div class="header-cta">
            <div class="mobile-menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="phone getQuoteBtn">
                Get Quote
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff"><path d="m560-240-56-58 142-142H160v-80h486L504-662l56-58 240 240-240 240Z"/></svg>
            </div>
        </div>
    </header>

    <div class="mobile-menu">
        <nav>
            <a href="../index.html" class="mobile-menu-link">Home</a>
            <a href="#services" class="mobile-menu-link">Services</a>
            <a href="#contact" class="mobile-menu-link">Contact</a>
        </nav>
        <a href="tel:16629321047" class="phone">(662) 932-1047</a>
    </div>

    <!-- Hero Section -->
    <div id="smooth-wrapper">
        <div id="smooth-content">
            <section class="mobile-hero">
                <div class="mobile-hero-container">
                    <!-- Centered Text Content -->
                    <div class="mobile-hero-header">
                        <h2 class="mobile-hero-subtitle">Services</h2>
                        <h1 class="mobile-hero-title">Mobile App Development</h1>
                        <p class="mobile-hero-subtext">
                            Transform your ideas into powerful mobile applications. We build native and cross-platform apps 
                            for <span>iOS</span> and <span>Android</span> that deliver exceptional user experiences and drive business growth.
                        </p>
                        <div class="mobile-hero-cta">
                            <button class="mobile-cta getQuoteBtn">
                                Get a free consultation
                            </button>
                            <button class="mobile-learn-more">Learn More</button>
                        </div>
                    </div>
                    
                    <!-- 3D Phone Model Canvas -->
                    <canvas class="mobile-phone-canvas"></canvas>
                </div>
            </section>
        
            <!-- Mobile App Features Section -->
            <section class="mobile-app-features-section" id="mobile-app-features-section">
                <div class="mobile-app-features-container">
                    <div class="mobile-app-features-content">
                        <h2>Develop World Class Apps</h2>
                        <p>
                            Our mobile applications come a beautiful and intuitive user interface with buttery smooth animations that 
                            is easy to use and navigate.
                        </p>
                        <ul class="mobile-app-features-list">
                            <li class="mobile-app-feature-item">Secure authentication & user management</li>
                            <li class="mobile-app-feature-item">Database integration & data synchronization</li>
                            <li class="mobile-app-feature-item">Native device access (Bluetooth, Camera, Microphone)</li>
                            <li class="mobile-app-feature-item">GPS & location services</li>
                            <li class="mobile-app-feature-item">Local Database Storage</li>
                            <li class="mobile-app-feature-item">Push notifications & real-time updates</li>
                            <li class="mobile-app-feature-item">Smooth animations & transitions</li>
                            <li class="mobile-app-feature-item">Offline functionality & data caching</li>
                            <li class="mobile-app-feature-item">Payment processing & in-app purchases</li>
                            <li class="mobile-app-feature-item">Cloud storage & file management</li>
                        </ul>
                    </div>
                    <div class="mobile-app-features-image">
                        <img src="../images/tether_trans.png" alt="Mobile App Example" loading="lazy">
                    </div>
                </div>
            </section>
        
        </div>
    </div>
    <div class="contact-overlay" id="contactOverlay">
        <div class="contact-form-panel" id="contactFormPanel">
            <button class="contact-close-btn" id="contactCloseBtn" aria-label="Close contact form">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">
                    <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
                </svg>
            </button>
            <div class="contact-form-content">
                <h2 class="contact-form-title">Hey! How can we help?</h2>
                <form id="contactForm" class="contact-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Name & Company</label>
                            <input type="text" id="name" name="name" placeholder="John from Apple" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Your Email</label>
                            <input type="email" id="email" name="email" placeholder="john@apple.com" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="message">Tell us more about your project</label>
                        <textarea id="message" name="message" rows="8" placeholder="Something about your great idea" required></textarea>
                    </div>
                    <div class="contact-form-footer">
                        <p class="contact-email-text">Email us <a href="mailto:admin@desotobitsandbytes.com" class="contact-email-link">admin@desotobitsandbytes.com</a></p>
                        <button type="submit" class="btn btn-submit">
                            Send Message
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
                "OrbitControls": "https://unpkg.com/three@0.158.0/examples/jsm/controls/OrbitControls.js",
                "GLTFLoader": "https://unpkg.com/three@0.158.0/examples/jsm/loaders/GLTFLoader.js"
            }
        }
    </script>
    <script type="module">
        import * as THREE from 'three';
        const { GLTFLoader } = await import('GLTFLoader');

        const isScreenMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
            (window.innerWidth <= 943) ||
            ('ontouchstart' in window);
        
        const canvas = document.querySelector('.mobile-phone-canvas');
        const scene = new THREE.Scene();
        
        const camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 0.5, 1000);
        camera.position.z = 25;
        
        const renderer = new THREE.WebGLRenderer({antialias: true, canvas, alpha: true, premultipliedAlpha: true});
        renderer.setSize(window.innerWidth, window.innerHeight);
    

        // Lighting setup
        // const ambientLight = new THREE.AmbientLight(0xFFFFFF, 0);
        // scene.add(ambientLight);
        
        const directionalLight = new THREE.DirectionalLight(0xFFFFFF, 3.5);
        directionalLight.position.set(5, 10, 2);
        scene.add(directionalLight);
        
        const hemisphereLight = new THREE.HemisphereLight(0xB1E1FF, 0xB97A20, 1);
        scene.add(hemisphereLight);

        // Function to frame the camera around the loaded model
        function frameArea(sizeToFitOnScreen, boxSize, boxCenter, camera) {
            const halfSizeToFitOnScreen = sizeToFitOnScreen * 0.5;
            const halfFovY = THREE.MathUtils.degToRad(camera.fov * 0.5);
            const distance = halfSizeToFitOnScreen / Math.tan(halfFovY);
            
            const direction = (new THREE.Vector3())
                .subVectors(camera.position, boxCenter)
                .multiply(new THREE.Vector3(1, 0, 1))
                .normalize();

            // Multiply distance by 3.5 to push camera further back (make phone 50% smaller)
            camera.position.copy(direction.multiplyScalar(distance * 3.5).add(boxCenter));
            camera.near = boxSize / 100;
            camera.far = boxSize * 100;
            camera.updateProjectionMatrix();
            camera.lookAt(boxCenter.x, boxCenter.y, boxCenter.z);
        }

        // Load the GLTF model
        const gltfLoader = new GLTFLoader();
        let model = null;
        
        gltfLoader.load('../phone_17_pro_max/scene.gltf', 
            (gltf) => {
                model = gltf.scene;
                scene.add(model);
                
                // Compute the box that contains the model
                const box = new THREE.Box3().setFromObject(model);
                const boxSize = box.getSize(new THREE.Vector3()).length();
                const boxCenter = box.getCenter(new THREE.Vector3());

                // Use frameArea to properly frame the phone
                frameArea(boxSize * 0.8, boxSize, boxCenter, camera);
                
                // Adjust camera distance to make phone visible at good size
                const currentDistance = camera.position.distanceTo(boxCenter);
                const direction = new THREE.Vector3()
                    .subVectors(camera.position, boxCenter)
                    .normalize();
                // Use 1.3x multiplier to keep it slightly zoomed out but visible
                camera.position.copy(direction.multiplyScalar(currentDistance * 0.5).add(boxCenter));
                camera.lookAt(boxCenter);
            },
            (progress) => {
                console.log('Loading phone model...', (progress.loaded / progress.total * 100) + '%');
            },
            (error) => {
                console.error('Error loading phone model:', error);
            }
        );

        // Resize handler
        function resizeRendererToDisplaySize(renderer) {
            const canvas = renderer.domElement;
            const width = canvas.clientWidth;
            const height = canvas.clientHeight;
            const needResize = canvas.width !== width || canvas.height !== height;
            if (needResize) {
                renderer.setSize(width, height, false);
            }
            return needResize;
        }

        // Animation loop
        function animate() {
     
            
            // Handle resize
            if (resizeRendererToDisplaySize(renderer)) {
                const canvas = renderer.domElement;
                camera.aspect = canvas.clientWidth / canvas.clientHeight;
                camera.updateProjectionMatrix();
            }

            // Rotate the model slowly
            if (model) {
                model.rotation.y += 0.0009;
            }

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }

        animate();

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
    <script>
        const logo = document.querySelector('.logo');
        logo.addEventListener('click', () => {
            window.location.href = '../index.html';
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/Flip.min.js" integrity="sha512-BQAAkzDHfly7jPwVhh0SpGxbvjRNEapCNkJ0VNSMFervZLsaeUch4P92skLoD70NXWlI1GOgrXRfR50b/quSSg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/ScrollSmoother.min.js" integrity="sha512-t4hwZimhnCKT3YLAsEcAcRDkngVFfCcUIfNLIjklrIZAZKD+GfQMP7HbRcsVHxNS48WRBSywNU1uSM2zzLQt1Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/SplitText.min.js" integrity="sha512-wOeEC+9qERAzhliwBFPDb6t8TiFFxdxG8vhK/Ygs7TuC44bpg8pg/X2/U/u+0X4fK05wb9id1EIipnF02+CFQw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/DrawSVGPlugin.min.js" integrity="sha512-yOZoZc/D5ZPHwjBduLkgeGHhFlQ7CsslA5D1egpQgeV1QcV4OdCcwmRLkH7p/hEHHF1cJp3H2OpGpd7oELFGxg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/Draggable.min.js" integrity="sha512-dgqdovLK5r/NMiV5YfWA0xC94DKGrm+6q1OZpuWHm+uBGLTck6wu58WAX9lmy8wec6cVnsgxbPJ60DtmNFnfgg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/MotionPathPlugin.min.js" integrity="sha512-vuNgw6lF+p97XmL9lFpbQZWBXxIFnwUVt7J/uknE4NJru5GJjjhIAauXdDtNdezqOJFnit+M3AeaM+gZ93hlmg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="../script.js"></script>
</body>
</html>